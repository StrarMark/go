链路层的基本服务是将数据通过单一通信链路从一个节点移动到相邻节点，但提供的服务能够随着链路层的协议的不同而变化。链路层主要提供的服务有以下几个：

- 封装成帧：网络层数据经链路层传送之前，几乎都有的链路层协议都会使用链路层帧封装起来。一个帧由一个数据字段或多个各首部字段组成。其中网络层数据封装在数据字段中。
- 链路接入：媒体访问控制（Medium Access Control,MAC）协议规定了帧在链路上的传输规则。
- 可靠数据传输：与运输层可靠交付服务类似，链路层的可靠交付服务通常是通过确认和重传实现。
- 差错检测：当帧中的一个比特作为 1 传输时，接收方可能收到 0。所以链路层提供一种机制来检测这样的比特差错。通过让发送节点在帧中包含差错检测比特，让接收节点进行差错检查，来完成这项工作。

链路层的主题部分是网络适配器（network adapter），也被称为网卡。位于网卡核心的是链路层控制器，该控制器通常是一个实现了许多链路层服务的专用芯片。因此，链路层控制器的许多功能是用硬件实现的。

在发送端，控制器取得了由协议栈较高层生成并存储在主机内存中的数据报，在链路层封装该数据报，然后遵循链路接入协议将该帧传输到通信链路中。在接收端，控制器接收到了整个帧，去除网络层数据报。如果链路层执行差错检测，则需要发送控制器在该帧的首部设置的差错检验比特，由接收控制器执行差错检测。

差错检测与纠正方式：

- 奇偶校验：发送发只需要包含一个附加的比特，选择它的值，使得这 d+1 比特中的 1 总数总是偶数。奇数类似，单个校验比特存放在一个单独的字段中。接收方的操作也很简单，只需要计算出接收的 d+1 比特中 1 的数目即可。
- 校验和检测：检验和方法是将这 d 比特整数加起来，并且用得到的和作为差错检测比特。这个和的反码形成了携带在报文段首部的因特网校验和。运输层多采用校验和方式尽心检测。
- 循环冗余校验（Cyclic Redundancy Check）：链路层采用 CRC 方式校验，这也是计算机网络中广泛应用的方法。

CRC 为校验和的一种，是两个字节数据流采用二进制除法（没有借位和进位，使用异或来代替减法）相除所得到的余数。其中被除数是需要计算校验和的信息数据流的二进制表示；除数是一个长度为(n+1)的预定义二进制数，通常用多项式的系数来表示。在做除法之前，要在信息数据之后先加上 n 个 0. 冗余码的位数是 n 位。

冗余码的计算方法是，先将信息码后面补 0，补 0 的个数是生成多项式最高次幂；将补零之后的信息码用模二除法（非二进制除法）除以G(X)对应的 2 进制码，注意除法过程中所用的减法是模 2 减法，即没有借位的减法，也就是异或运算。当被除数逐位除完时，得到比除数少一位的余数。此余数即为冗余位,将其添加在信息位后便构成 CRC 码字

例如，假设信息码字为 11100011，生成多项式 G(X)=X^5+X^4+X+1，计算 CRC 码字。G(X) = X^5+X^4+X+1,也就是 110011，因为最高次是 5，所以，在信息码字后补 5 个 0，变为 1110001100000。用 1110001100000 模二除法除以 110011，余数为 11010，即为所求的冗余位。

因此发送出去的CRC码字为原始码字11100011末尾加上冗余位11010，即 1110001111010。接收端收到码字后，采用同样的方法验证，即将收到的码字用模二除法除以110011（是G(X)对应的二进制生成码），发现余数是0，则认为码字在传输过程中没有出错。

参考：
[循环冗余校验CRC简介](https://colobu.com/2014/10/22/CRC-introduction/) by smallnest <br>